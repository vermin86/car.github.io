<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BYD Song Plus EV</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #f8f9fa;
      }
      .container-fluid {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }
      .group-header {
        background-color: #e9ecef;
        font-weight: bold;
        padding: 10px 15px;
        border-radius: 4px;
        margin-top: 15px;
      }
      .table-container {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
      }
      .param-name {
        font-weight: 500;
        background-color: #f8f9fa;
        width: 250px;
        padding: 12px 15px !important;
      }
      .param-value {
        padding: 12px 15px !important;
      }
      .carousel-container {
        height: 500px;
        background-color: #000;
        margin-bottom: 30px;
        border-radius: 8px;
        overflow: hidden;
      }
      .carousel-inner {
        height: 100%;
      }
      .carousel-item {
        height: 100%;
      }
      .carousel-item img {
        height: 100%;
        width: 100%;
        object-fit: contain;
      }
      .car-info {
        color: #6c757d;
        margin-bottom: 30px;
      }
      .car-info p {
        margin-bottom: 5px;
      }
      .table {
        margin-bottom: 0;
      }
      .table td {
        vertical-align: middle;
        border-color: #dee2e6;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <h1 class="text-center mb-3">
        Beijing BJ40 2021 2.0D <br />Automatic 4WD Blade Hero Edition XiaKe Type
      </h1>
      <div class="car-info text-center">
        <p>Zarejestrowany: czerwiec 2022 roku</p>
        <p>Przebieg: 36 000 km</p>
        <p>Kolor: czarny</p>
        <p>Stan: Bardzo dobry</p>
      </div>

      <!-- 图片轮播 -->
      <div class="carousel-container">
        <div
          id="carCarousel"
          s
          class="carousel slide h-100"
          data-bs-ride="carousel"
        >
          <div class="carousel-indicators">
            <button
              type="button"
              data-bs-target="#carCarousel"
              data-bs-slide-to="0"
              class="active"
            ></button>
            <button
              type="button"
              data-bs-target="#carCarousel"
              data-bs-slide-to="1"
            ></button>
            <button
              type="button"
              data-bs-target="#carCarousel"
              data-bs-slide-to="2"
            ></button>
            <button
              type="button"
              data-bs-target="#carCarousel"
              data-bs-slide-to="3"
            ></button>
            <button
              type="button"
              data-bs-target="#carCarousel"
              data-bs-slide-to="4"
            ></button>
            <button
              type="button"
              data-bs-target="#carCarousel"
              data-bs-slide-to="5"
            ></button>
            <button
              type="button"
              data-bs-target="#carCarousel"
              data-bs-slide-to="6"
            ></button>
            <button
              type="button"
              data-bs-target="#carCarousel"
              data-bs-slide-to="7"
            ></button>
            <button
              type="button"
              data-bs-target="#carCarousel"
              data-bs-slide-to="8"
            ></button>
          </div>
          <div class="carousel-inner" id="carouselInner"></div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carCarousel"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon"></span>
            <span class="visually-hidden">Poprzedni</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carCarousel"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon"></span>
            <span class="visually-hidden">Następny</span>
          </button>
        </div>
      </div>

      <!-- 数据表格 -->
      <div class="table-container">
        <table class="table">
          <tbody id="dataTable">
            <tr>
              <td colspan="2" class="text-center py-4">
                <div class="spinner-border text-secondary"></div>
                <div class="mt-2">Ładowanie danych...</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script src="./js/mock.js"></script>
    <script>
      // 更新轮播图
      function updateCarousel() {
        const carouselInner = document.getElementById("carouselInner");
        carouselInner.innerHTML = "";

        // 添加9张图片
        for (let i = 1; i <= 9; i++) {
          const div = document.createElement("div");
          div.className = `carousel-item${i === 1 ? " active" : ""}`;
          div.innerHTML = `<img src="pic/50586_${i}.jpg" class="d-block" alt="Beijing BJ40 ${i}" onerror="this.style.display='none'">`;
          carouselInner.appendChild(div);
        }
      }

      // 加载数据
      function loadData() {
        // 假设传入的数据是上面的 JSON 格式
        const data = {
          "Informacje podstawowe": {
            Marka: "Beijing",
            Model: "Beijing BJ40",
            "Konkretny model":
              "Beijing BJ40 2021 2.0D (Automatic 4WD Blade Hero Edition XiaKe Type)",
            "Cena producenta": "26,625.34 USD",
            "Cena dealera": "Brak wyceny",
            "Status sprzedaży modelu": "Wycofany ze sprzedaży",
            Klasa: "Kompaktowy SUV",
            "Rodzaj paliwa": "Diesel",
            "Norma emisji spalin": "VI",
            "Data wprowadzenia na rynek": "Marzec 2021",
          },
          Silnik: {
            "Model silnika": "4F20TC13",
            "Pojemność skokowa (mL)": 1968,
            "Rodzaj doładowania": "Turbosprężarka",
            "Układ cylindrów": "L",
            "Liczba cylindrów": 4,
            "Liczba zaworów na cylinder": 4,
            "Maksymalna moc (kW)": 120,
            "Maksymalny moment obrotowy (Nm)": 380,
            "Rodzaj paliwa": "Diesel (0)",
            "System wtrysku paliwa": "Bezpośredni wtrysk",
            "Materiał głowicy": "Aluminium",
            "Materiał bloku silnika": "Żeliwo",
          },
          "Skrzynia biegów": {
            "Typ skrzyni biegów": "Automatyczna z trybem manualnym (AT)",
            "Liczba biegów": 8,
          },
          Napęd: "Na cztery koła (4x4)",
          "Konstrukcja nadwozia": "4-drzwiowy, 5-osobowy SUV",
          Wymiary: {
            "Długość (mm)": 4630,
            "Szerokość (mm)": 1925,
            "Wysokość (mm)": 1871,
          },
          "Rozstaw osi (mm)": 2745,
          "Pojemność zbiornika paliwa (L)": 75,
          "Masa własna (kg)": 2140,
          "Maksymalna masa całkowita (kg)": 2565,
          "Zawieszenie i układ kierowniczy": {
            "Typ przedniego zawieszenia": "Niezależne, wahacz poprzeczny",
            "Typ tylnego zawieszenia": "Zależne, pięciowahaczowe",
            "Typ wspomagania kierownicy": "Hydrauliczne",
            "Konstrukcja nadwozia": "Rama nośna",
          },
          "Hamulce i koła": {
            "Typ przednich hamulców": "Wentylowane tarcze",
            "Typ tylnych hamulców": "Tarcze",
            "Typ hamulca postojowego": "Elektryczny",
            "Rozmiar przednich opon": "265/65 R17",
            "Rozmiar tylnych opon": "265/65 R17",
            "Typ koła zapasowego": "Pełnowymiarowe",
          },
          "Wyposażenie bezpieczeństwa": {
            "Poduszki powietrzne kierowcy/pasażera": "Kierowca ● / Pasażer ●",
            ABS: "●",
            "Rozdzielacz siły hamowania (EBD/CBC itp.)": "●",
            "Asystent hamowania (EBA/BAS/BA itp.)": "●",
            "Kontrola trakcji (ASR/TCS/TRC itp.)": "●",
            "Kontrola stabilności (ESC/ESP/DSC itp.)": "●",
            "System monitorowania ciśnienia w oponach": "Wyświetlacz ciśnienia",
            "System przypominający o zapięciu pasów": "Przednie siedzenia",
            "Złącze ISOFIX": "●",
          },
          "Systemy wspomagania jazdy": {
            "Tryby jazdy": [
              "Sport",
              "Ekonomiczny",
              "Standardowy/Komfortowy",
              "Śnieg",
            ],
            "Asystent parkowania": "●",
            "Asystent ruszania pod górę": "●",
            "System kontroli zjazdu ze wzniesienia": "●",
            "Blokada mechanizmu różnicowego": "Tylny mechanizm różnicowy",
          },
          "Wyposażenie zewnętrzne": {
            "Materiał felg": "Aluminium",
            Immobilizer: "●",
            "Centralny zamek": "●",
            "System bezkluczykowy": "●",
            "Światła dzienne LED": "●",
            "Elektryczne szyby przednie/tylne": "Przednie ● / Tylne ●",
            "Funkcja jednoczesnego podnoszenia/opuszczania szyb": "●",
            "Funkcja antyzgnieceniowa szyb": "●",
            "Tylna wycieraczka": "●",
          },
          "Wyposażenie wnętrza": {
            "Kolorowy ekran centralny": "Dotykowy ekran LCD",
            "Rozmiar ekranu centralnego": "10,25 cala",
            "Łączność Bluetooth/telefon": "●",
            "System rozpoznawania głosu": [
              "System multimedialny",
              "nawigacja",
              "telefon",
              "klimatyzacja",
            ],
            "Łączność z internetem w samochodzie": "●",
            "Sieć 4G/5G": "4G",
            "Aktualizacje OTA": "●",
            "Hotspot Wi-Fi": "●",
            "Materiał kierownicy": "Skóra",
            "Wielofunkcyjna kierownica": "●",
            "Wyświetlacz komputera pokładowego": "Kolorowy",
            "W pełni cyfrowa deska rozdzielcza": "●",
            "Rozmiar wyświetlacza deski rozdzielczej": "12,3 cala",
            "Funkcje wewnętrznego lusterka wstecznego":
              "Ręczna redukcja olśnienia",
            "Liczba portów USB/Type-C": "2 z przodu",
            "Gniazdo 220V/230V": "●",
            "Materiał siedzeń": "Skóra ekologiczna",
            "Regulacja fotela kierowcy": [
              "Przód/tył",
              "oparcie",
              "wysokość (2-stopniowa)",
              "podparcie lędźwiowe (4-stopniowe)",
            ],
            "Regulacja fotela pasażera": ["Przód/tył", "oparcie"],
            "Elektryczna regulacja foteli": "Kierowca ● / Pasażer -",
            "Funkcje przednich siedzeń": "Ogrzewanie",
            "Podłokietniki przednie/tylne": "Przednie ● / Tylne ●",
            "Schowek na kubki z tyłu": "●",
            "Liczba głośników": 6,
            "Oświetlenie ambientowe wnętrza": "Jednokolorowe",
            "Sterowanie klimatyzacją": "Automatyczne",
            "Nawiewy tylne": "●",
            "Kontrola strefowa temperatury": "●",
            "Filtr PM2.5 w kabinie": "●",
          },
          Kolory: {
            "Kolory nadwozia": [
              "Czerwony Magma",
              "Zielony Beret",
              "Czarny Titan",
              "Biały Księżyc",
              "Niebieski Kwantowy",
            ],
            "Kolory wnętrza": "Czarny/Niebieski",
          },
        };

        displayData(data);
      }

      // 显示数据
      function displayData(data) {
        const tableBody = document.getElementById("dataTable");
        tableBody.innerHTML = "";

        // 显示每个组的数据
        for (const [groupName, group] of Object.entries(data)) {
          // 添加组标题
          const groupRow = document.createElement("tr");
          groupRow.innerHTML = `<td colspan="2" class="group-header">${groupName}</td>`;
          tableBody.appendChild(groupRow);

          // 显示组内参数
          if (typeof group === "object" && !Array.isArray(group)) {
            for (const [paramName, paramValue] of Object.entries(group)) {
              const row = document.createElement("tr");

              // 参数名称
              const nameCell = document.createElement("td");
              nameCell.className = "param-name";
              nameCell.textContent = paramName;
              row.appendChild(nameCell);

              // 参数值
              const valueCell = document.createElement("td");
              valueCell.className = "param-value";
              if (
                typeof paramValue === "object" &&
                !Array.isArray(paramValue)
              ) {
                // 如果是嵌套对象，递归显示
                valueCell.textContent = JSON.stringify(paramValue, null, 2);
              } else if (Array.isArray(paramValue)) {
                // 如果是数组，显示为逗号分隔的字符串
                valueCell.textContent = paramValue.join(", ");
              } else {
                valueCell.textContent = paramValue || "-";
              }
              row.appendChild(valueCell);
              tableBody.appendChild(row);
            }
          } else {
            // 如果组数据不是对象，直接显示
            const row = document.createElement("tr");
            const nameCell = document.createElement("td");
            nameCell.className = "param-name";
            nameCell.textContent = groupName;
            row.appendChild(nameCell);

            const valueCell = document.createElement("td");
            valueCell.className = "param-value";
            valueCell.textContent = group || "-";
            row.appendChild(valueCell);
            tableBody.appendChild(row);
          }
        }
      }

      // 页面加载完成后自动加载数据和图片
      document.addEventListener("DOMContentLoaded", function () {
        updateCarousel();
        loadData();
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
